(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b2cf258c"],{"159b":function(t,a,e){var i=e("da84"),o=e("fdbc"),s=e("17c2"),c=e("9112");for(var n in o){var r=i[n],l=r&&r.prototype;if(l&&l.forEach!==s)try{c(l,"forEach",s)}catch(d){l.forEach=s}}},"17c2":function(t,a,e){"use strict";var i=e("b727").forEach,o=e("a640"),s=e("ae40"),c=o("forEach"),n=s("forEach");t.exports=c&&n?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,a,e){"use strict";var i=e("23e7"),o=e("17c2");i({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"816b":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"order"},[e("van-tabs",{attrs:{sticky:!0,color:"#50311A","line-height":"2","title-active-color":"#50311A"},on:{change:t.goodstate},model:{value:t.activeName,callback:function(a){t.activeName=a},expression:"activeName"}},t._l(t.tabContent,(function(a,i){return e("van-tab",{key:i,attrs:{title:a.title,name:a.name}},[e("div",{staticClass:"order-content"},[e("div",{staticClass:"order-items"},t._l(t.goodscook,(function(a,i){return e("div",{key:i,staticClass:"order-item"},[e("div",{staticClass:"order-item-title"},[e("div",{staticClass:"fl order-no"},[t._v(t._s(a))]),2==t.goodsData[a].status?e("div",{staticClass:"fr"},[e("span",{staticClass:"confirm fl"},[t._v("已收货")]),e("span",{staticClass:"delete fl",on:{click:function(e){return t.removegoods(a)}}},[e("van-icon",{staticClass:"delete-icon",attrs:{name:"delete"}})],1)]):e("div",{staticClass:"fr"},[e("span",{staticClass:"confirm",on:{click:function(e){return t.regoods(a)}}},[t._v("确认收货")])])]),e("div",t._l(t.goodsData[a].data,(function(a,i){return e("div",{key:i,staticClass:"items"},[e("div",{staticClass:"clearfix"},[e("div",{staticClass:"fl pro-img"},[e("img",{staticClass:"auto-img",attrs:{src:a.smallImg,alt:""}})]),e("div",{staticClass:"fl pro-info"},[e("div",{staticClass:"fl"},[e("div",{staticClass:"names"},[e("div",{staticClass:"zh-name"},[t._v(t._s(a.name))]),e("div",{staticClass:"en-name"},[t._v(t._s(a.enname))])]),e("div",{staticClass:"rule"},[t._v(t._s(a.rule))])]),e("div",{staticClass:"fr"},[e("div",{staticClass:"price"},[t._v("￥"+t._s(a.price))]),e("div",{staticClass:"count"},[t._v("x"+t._s(a.count))])])])])])})),0),e("div",{staticClass:"order-total clearfix"},[e("div",{staticClass:"order-date fl"},[t._v(t._s(t._f("formatDate")(t.goodsData[a].date,"aaaa-BB-cc dd:ee:ff")))]),e("div",{staticClass:"fr clearfix"},[e("span",{staticClass:"fl total-count"},[t._v("共计 "+t._s(t.goodsData[a].count)+" 件商品 合计：")]),e("span",{staticClass:"fl total-price"},[t._v("￥"+t._s(t.goodsData[a].total))])])])])})),0)])])})),1)],1)},o=[],s=(e("4160"),e("c975"),e("a434"),e("159b"),e("e8e5"),{data:function(){return{tabContent:[{title:"全部",name:"0"},{title:"待收货",name:"1"},{title:"已收货",name:"2"}],activeName:"0",isRecieve:!1,goodscook:[],goodsData:{}}},created:function(){this.goodsget()},methods:{goodstate:function(t){this.goodsget()},goodsget:function(){var t=this,a=localStorage.getItem("_Tok");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/findOrder",params:{appkey:this.appkey,tokenString:a,status:this.activeName}}).then((function(a){if(t.$toast.clear(),7e4==a.data.code){a.data.result.sort((function(t,a){return new Date(a.createdAt).getTime()-new Date(t.createdAt).getTime()}));var e=[];a.data.result.forEach((function(t){-1===e.indexOf(t.oid)&&e.push(t.oid)})),t.goodscook=e;var i={};a.data.result.forEach((function(t){i[t.oid]?(i[t.oid].count+=t.count,i[t.oid].total+=t.count*t.price,i[t.oid].data.push(t)):i[t.oid]={data:[t],status:t.status,date:t.createdAt,count:t.count,total:t.count*t.price}})),t.goodsData=i}})).catch((function(a){t.$toast.clear()}))},removegoods:function(t){var a=this,e=localStorage.getItem("_Tok");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/receive",data:{appkey:this.appkey,tokenString:e,oid:t}}).then((function(e){if(a.$toast.clear(),8e4==e.data.code&&(a.goodsData[t].status=2,1==a.activeName)){var i=a.goodscook.indexOf(t);a.goodscook.splice(i,1)}})).catch((function(t){a.$toast.clear()}))},regoods:function(t){var a=this,e=localStorage.getItem("_Tok");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/removeOrder",data:{appkey:this.appkey,tokenString:e,oid:t}}).then((function(e){if(a.$toast.clear(),9e4==e.data.code){var i=a.goodscook.indexOf(t);a.goodscook.splice(i,1)}})).catch((function(t){a.$toast.clear()}))}}}),c=s,n=e("2877"),r=Object(n["a"])(c,i,o,!1,null,null,null);a["default"]=r.exports},a434:function(t,a,e){"use strict";var i=e("23e7"),o=e("23cb"),s=e("a691"),c=e("50c4"),n=e("7b0b"),r=e("65f0"),l=e("8418"),d=e("1dde"),f=e("ae40"),u=d("splice"),v=f("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,h=Math.min,m=9007199254740991,p="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!u||!v},{splice:function(t,a){var e,i,d,f,u,v,C=n(this),k=c(C.length),S=o(t,k),_=arguments.length;if(0===_?e=i=0:1===_?(e=0,i=k-S):(e=_-2,i=h(g(s(a),0),k-S)),k+e-i>m)throw TypeError(p);for(d=r(C,i),f=0;f<i;f++)u=S+f,u in C&&l(d,f,C[u]);if(d.length=i,e<i){for(f=S;f<k-i;f++)u=f+i,v=f+e,u in C?C[v]=C[u]:delete C[v];for(f=k;f>k-i+e;f--)delete C[f-1]}else if(e>i)for(f=k-i;f>S;f--)u=f+i-1,v=f+e-1,u in C?C[v]=C[u]:delete C[v];for(f=0;f<e;f++)C[f+S]=arguments[f+2];return C.length=k-i+e,d}})},a640:function(t,a,e){"use strict";var i=e("d039");t.exports=function(t,a){var e=[][t];return!!e&&i((function(){e.call(null,a||function(){throw 1},1)}))}},c975:function(t,a,e){"use strict";var i=e("23e7"),o=e("4d64").indexOf,s=e("a640"),c=e("ae40"),n=[].indexOf,r=!!n&&1/[1].indexOf(1,-0)<0,l=s("indexOf"),d=c("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:r||!l||!d},{indexOf:function(t){return r?n.apply(this,arguments)||0:o(this,t,arguments.length>1?arguments[1]:void 0)}})},e8e5:function(t,a,e){},fdbc:function(t,a){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-b2cf258c.a40fdfac.js.map